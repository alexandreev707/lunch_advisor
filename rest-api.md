# REST API
## Позиции меню
##### Получить позицию меню <br>
URL: /api/item/id <br>
Роли: USER, ADMIN <br>
Метод: GET <br>

Поле | Тип | Описание
------------ | ------------- | -------------
id | Long | Идентификатор

Response:

Поле | Тип | Описание
------------ | ------------- | -------------
id | Long | Идентификатор
------------ | ------------- | -------------
name | String | Наименование позиции 
------------ | ------------- | -------------
price | BigDecimal | Цена позиции

$ curl 'http://localhost:8080/api/item/id' -i -X GET

-----------------------------
##### Получить позиции меню по идентификатору меню <br>
URL: /api/item/menu/id <br>
Роли: USER, ADMIN <br>
Метод: GET <br>

Поле | Тип | Описание
------------ | ------------- | -------------
id | Long | Идентификатор меню

Response:
Массив объектов.

Поле | Тип | Описание
------------ | ------------- | -------------
id | Long | Идентификатор
------------ | ------------- | -------------
name | String | Наименование позиции 
------------ | ------------- | -------------
price | BigDecimal | Цена позиции

$ curl 'http://localhost:8080/api/item/menu/id' -i -X GET

-----------------------------
##### Обновить позицию меню <br>
URL: /api/item/menu/{id} <br>
Роли: USER, ADMIN <br>
Метод: PUT <br>

Поле | Тип | Описание
------------ | ------------- | -------------
id | Long | Идентификатор
------------ | ------------- | -------------
name | String | Наименование позиции (Обязательное поле)
------------ | ------------- | -------------
price | BigDecimal | Цена позиции (Обязательное поле, положительное число)

Response: -

$ curl 'http://localhost:8080/api/item/id' -i -X PUT \
    -H 'Content-Type: application/json;charset=UTF-8' \
    -d '{
  "id" : "",
  "name" : "test",
  "price" : 1.0
}'

-----------------------------
##### Удалить позицию меню <br>
URL: /api/item/menu/{id} <br>
Роли: USER, ADMIN <br>
Метод: DELETE <br>

Поле | Тип | Описание
------------ | ------------- | -------------
id | Long | Идентификатор

Response: -

$ curl 'http://localhost:8080/api/item/id' -i -X DELETE \
    -H 'Content-Type: application/json;charset=UTF-8'

-----------------------------
##### Создать позицию меню <br>
URL: /api/item/ <br>
Роли: USER, ADMIN <br>
Метод: POST <br>

Поле | Тип | Описание
------------ | ------------- | -------------
id | Long | Идентификатор
------------ | ------------- | -------------
name | String | Наименование позиции (Обязательное поле)
------------ | ------------- | -------------
price | BigDecimal | Цена позиции (Обязательное поле, положительное число)
 
Response:
 
Поле | Тип | Описание
------------ | ------------- | -------------
id | Long | Идентификатор
------------ | ------------- | -------------
name | String | Наименование позиции 
------------ | ------------- | -------------
price | BigDecimal | Цена позиции

$ curl 'http://localhost:8080/api/item/' -i -X POST \
    -H 'Content-Type: application/json;charset=UTF-8' \
    -d '{
  "name" : "test",
  "id" : "1",
  "price" : 1.0 
}'
-----------------------------

## Меню
##### Получить список меню на текущую дату <br>
URL: /api/menu/ <br>
Роли: USER, ADMIN <br>
Метод: GET <br>

Response: Массив объектов.

Поле | Тип | Описание
------------ | ------------- | -------------
id | Long | Идентификатор
------------ | ------------- | -------------
menu | String | Наименование меню 
------------ | ------------- | -------------
date | LocalDate | Дата(yyyy-mm-dd)
------------ | ------------- | -------------
restaurant | String | Наименование ресторана

$ curl 'http://localhost:8080/api/menu/' -i -X GET

-----------------------------

##### Получить меню по идентификатору <br>
URL: /api/menu/id <br>
Роли: USER, ADMIN <br>
Метод: GET <br>

Поле | Тип | Описание
------------ | ------------- | -------------
id | Long | Идентификатор
 
Response: 
 
Поле | Тип | Описание
------------ | ------------- | -------------
id | Long | Идентификатор
------------ | ------------- | -------------
menu | String | Наименование меню 
------------ | ------------- | -------------
date | LocalDate | Дата(yyyy-mm-dd)
------------ | ------------- | -------------
restaurant | String | Наименование ресторана

$ curl 'http://localhost:8080/api/menu/id' -i -X GET

-----------------------------

##### Получить меню по периоду, ресторану <br>
URL: /api/menu/byDate <br>
Роли: USER, ADMIN <br>
Метод: GET <br>

Поле | Тип | Описание
------------ | ------------- | -------------
start | LocalDate | Дата начала
 ------------ | ------------- | -------------
end | LocalDate | Дата окончания
 ------------ | ------------- | -------------
restaurant | String | Наименование ресторана
 
Response: Массив объектов.
 
Поле | Тип | Описание
------------ | ------------- | -------------
id | Long | Идентификатор
------------ | ------------- | -------------
menu | String | Наименование меню 
------------ | ------------- | -------------
date | LocalDate | Дата(yyyy-mm-dd)
------------ | ------------- | -------------
restaurant | String | Наименование ресторана

$ curl 'http://localhost:8080/api/menu/byDate' -i -X GET

-----------------------------

##### Создать меню <br>
URL: /api/menu <br>
Роли: USER, ADMIN <br>
Метод: POST <br>

Поле | Тип | Описание
------------ | ------------- | -------------
id | Long | Идентификатор
------------ | ------------- | -------------
name | String | Наименование меню (Обязательно поле)
------------ | ------------- | -------------
date | LocalDate | Дата меню(yyyy-mm-dd) (Обязательно поле)
------------ | ------------- | -------------
restaurant | String | Наименование ресторана (Обязательно поле)
------------ | ------------- | -------------
items | List(ItemRequest) | Список позиций

ItemRequest:

Поле | Тип | Описание
------------ | ------------- | -------------
id | Long | Идентификатор
------------ | ------------- | -------------
name | String | Наименование позиции (Обязательно поле)
------------ | ------------- | -------------
price | BigDecimal | цена (Обязательно поле, положительно число)

 
Response:
 
Поле | Тип | Описание
------------ | ------------- | -------------
id | Long | Идентификатор
------------ | ------------- | -------------
menu | String | Наименование меню 
------------ | ------------- | -------------
date | LocalDate | Дата(yyyy-mm-dd)
------------ | ------------- | -------------
restaurant | String | Наименование ресторана

$ curl 'http://localhost:8080/api/menu/' -i -X POST \
    -H 'Content-Type: application/json;charset=UTF-8' \
    -d '{
  "id" : "",
  "name" : "test",
  "date" : "2019-08-11",
  "restaurant" : "test",
  "items" : []
}'

-----------------------------

##### Обновить меню <br>
URL: /api/menu <br>
Роли: USER, ADMIN <br>
Метод: PUT <br>

Поле | Тип | Описание
------------ | ------------- | -------------
id | Long | Идентификатор
------------ | ------------- | -------------
name | String | Наименование меню (Обязательно поле)
------------ | ------------- | -------------
date | LocalDate | Дата меню(yyyy-mm-dd)
------------ | ------------- | -------------
restaurant | String | Наименование ресторана
------------ | ------------- | -------------
items | List(ItemRequest) | Список позиций

ItemRequest:

Поле | Тип | Описание
------------ | ------------- | -------------
id | Long | Идентификатор
------------ | ------------- | -------------
name | String | Наименование позиции (Обязательно поле)
------------ | ------------- | -------------
price | BigDecimal | Цена (Обязательно поле, положительно число)
 
Response:
 
Поле | Тип | Описание
------------ | ------------- | -------------
id | Long | Идентификатор
------------ | ------------- | -------------
menu | String | Наименование меню 
------------ | ------------- | -------------
date | LocalDate | Дата(yyyy-mm-dd)
------------ | ------------- | -------------
restaurant | String | Наименование ресторана

$ curl 'http://localhost:8080/api/menu/' -i -X PUT \
    -H 'Content-Type: application/json;charset=UTF-8' \
    -d '{
  "id" : "",
  "name" : "test",
  "date" : "2019-11-08",
  "restaurant" : "test",
  "items" : []
}'

##### Удалить меню по идентификатору <br>
URL: /api/menu/id <br>
Роли: USER, ADMIN <br>
Метод: DELETE <br>

Response: -

$ curl 'http://localhost:8080/api/menu/50' -i -X DELETE \
    -H 'Content-Type: application/json;charset=UTF-8'
    
    
## Ресторан
##### Получить список ресторанов <br>
URL: /api/restaurant <br>
Роли: USER, ADMIN <br>
Метод: GET <br>

Response: Массив объектов.

Поле | Тип | Описание
------------ | ------------- | -------------
id | Long | Идентификатор
------------ | ------------- | -------------
name | String | Наименование ресторана 
------------ | ------------- | -------------
address | String | Адресс ресторана

$ curl 'http://localhost:8080/api/restaurant/' -i -X GET

-----------------------------

##### Получить ресторан по идентификатору <br>
URL: /api/restaurant/id <br>
Роли: USER, ADMIN <br>
Метод: GET <br>

Поле | Тип | Описание
------------ | ------------- | -------------
id | Long | Идентификатор ресторана

Response:

Поле | Тип | Описание
------------ | ------------- | -------------
id | Long | Идентификатор
------------ | ------------- | -------------
name | String | Наименование ресторана 
------------ | ------------- | -------------
address | String | Адресс ресторана

$ curl 'http://localhost:8080/api/restaurant/50' -i -X GET

-----------------------------

##### Создать ресторан <br>
URL: /api/restaurant <br>
Роли: USER, ADMIN <br>
Метод: POST <br>

Поле | Тип | Описание
------------ | ------------- | -------------
name | String | Наименование ресторана (Обязательное поле, не пустое)
------------ | ------------- | -------------
address | String | Адресс ресторана
 
Response: 

Поле | Тип | Описание
------------ | ------------- | -------------
id | Long | Идентификатор
------------ | ------------- | -------------
name | String | Наименование ресторана 
------------ | ------------- | -------------
address | String | Адресс ресторана

$ curl 'http://localhost:8080/api/restaurant/' -i -X POST \
    -H 'Content-Type: application/json;charset=UTF-8' \
    -d '{
  "name" : "test",
  "address" : "st. Victory"
}'

-----------------------------

##### Обновить ресторан <br>
URL: /api/restaurant <br>
Роли: USER, ADMIN <br>
Метод: PUT <br>

Поле | Тип | Описание
------------ | ------------- | -------------
name | String | Наименование ресторана (Обязательное поле, не пустое)
------------ | ------------- | -------------
address | String | Адресс ресторана
 
Response: -

$ curl 'http://localhost:8080/api/restaurant/' -i -X PUT \
    -H 'Content-Type: application/json;charset=UTF-8' \
    -d '{
  "name" : "",
  "address" : ""
}'

-----------------------------

##### Удалить ресторан <br>
URL: /api/restaurant/id <br>
Роли: USER, ADMIN <br>
Метод: PUT <br>

Response: -

$ curl 'http://localhost:8080/api/restaurant/50' -i -X DELETE \
    -H 'Content-Type: application/json;charset=UTF-8'

-----------------------------

## Отзыв
##### Получить список отзывов <br>
URL: /api/review <br>
Роли: USER, ADMIN <br>
Метод: GET <br>

Response: Массив объектов.

Поле | Тип | Описание
------------ | ------------- | -------------
id | Long | Идентификатор
------------ | ------------- | -------------
userId | Long | Идентификатор пользователя 
------------ | ------------- | -------------
menuId | Long | Идентификатор меню
------------ | ------------- | -------------
dateTime | LocalDateTime | Дата и время голосования
------------ | ------------- | -------------
state | String | Статус голосования(ACTIVE/DELETED)

$ curl 'http://localhost:8080/api/review/' -i -X GET

-----------------------------

##### Получить отзыв по идентификатору <br>
URL: /api/review/id <br>
Роли: USER, ADMIN <br>
Метод: GET <br>

Response:

Поле | Тип | Описание
------------ | ------------- | -------------
id | Long | Идентификатор
------------ | ------------- | -------------
userId | Long | Идентификатор пользователя 
------------ | ------------- | -------------
menuId | Long | Идентификатор меню
------------ | ------------- | -------------
dateTime | LocalDateTime | Дата и время голосования
------------ | ------------- | -------------
state | String | Статус голосования(ACTIVE/DELETED)

$ curl 'http://localhost:8080/api/review/id' -i -X GET

-----------------------------

##### Получить список отзывов по идентификатору пользователя <br>
URL: /api/review/user/id <br>
Роли: USER, ADMIN <br>
Метод: GET <br>

Response: Массив объектов.

Поле | Тип | Описание
------------ | ------------- | -------------
id | Long | Идентификатор
------------ | ------------- | -------------
menu | String | Наименования меню
------------ | ------------- | -------------
dateTime | LocalDateTime | Дата и время голосования
------------ | ------------- | -------------
state | String | Статус голосования(ACTIVE/DELETED)

$ curl 'http://localhost:8080/api/review/user/id' -i -X GET

-----------------------------

##### Получить отзыв по идентификатору меню <br>
URL: /api/review/menu/id <br>
Роли: USER, ADMIN <br>
Метод: GET <br>

Response:

Поле | Тип | Описание
------------ | ------------- | -------------
id | Long | Идентификатор
------------ | ------------- | -------------
userId | Long | Идентификатор пользователя 
------------ | ------------- | -------------
menuId | Long | Идентификатор меню
------------ | ------------- | -------------
dateTime | LocalDateTime | Дата и время голосования
------------ | ------------- | -------------
state | String | Статус голосования(ACTIVE/DELETED)

$ curl 'http://localhost:8080/api/review/menu/id' -i -X GET

-----------------------------

##### Добавить отзыв по идентификатору меню <br>
URL: /api/review <br>
Роли: USER, ADMIN <br>
Метод: POST <br>

Поле | Тип | Описание
------------ | ------------- | -------------
isVote | Boolean | Признак голосования (Обязательно поле)
------------ | ------------- | -------------
menuId | Long | Идентификатор меню (Положительное, обязательное поле)
 
Response:

Поле | Тип | Описание
------------ | ------------- | -------------
id | Long | Идентификатор
------------ | ------------- | -------------
userId | Long | Идентификатор пользователя 
------------ | ------------- | -------------
menuId | Long | Идентификатор меню
------------ | ------------- | -------------
dateTime | LocalDateTime | Дата и время голосования
------------ | ------------- | -------------
state | String | Статус голосования(ACTIVE/DELETED)

$ curl 'http://localhost:8080/api/review/' -i -X POST \
    -H 'Content-Type: application/json;charset=UTF-8' \
    -d '{
  "isVote" : true,
  "menuId" : 57
}'

-----------------------------

##### Добавить отзыв по идентификатору ресторана <br>
URL: /api/review/restaurant/id  <br>
Роли: USER, ADMIN <br>
Метод: POST <br>

Поле | Тип | Описание
------------ | ------------- | -------------
 isVote | Boolean | Признак голосования (Обязательно поле)
  ------------ | ------------- | -------------
 menuId | Long | Идентификатор меню (Положительное, обязательное поле)
 
Response:
 
 Поле | Тип | Описание
------------ | ------------- | -------------
id | Long | Идентификатор
------------ | ------------- | -------------
userId | Long | Идентификатор пользователя 
------------ | ------------- | -------------
menuId | Long | Идентификатор меню
------------ | ------------- | -------------
dateTime | LocalDateTime | Дата и время голосования
------------ | ------------- | -------------
state | String | Статус голосования(ACTIVE/DELETED)

$ curl 'http://localhost:8080/api/review/restaurant/51' -i -X POST \
    -H 'Content-Type: application/json;charset=UTF-8' \
    -d '{
  "isVote" : false
}'

-----------------------------

##### Обновить отзыв <br>
URL: /api/review/id  <br>
Роли: USER, ADMIN <br>
Метод: PUT <br>

Поле | Тип | Описание
------------ | ------------- | -------------
isVote | Boolean | Признак голосования (Обязательно поле)
------------ | ------------- | -------------
menuId | Long | Идентификатор меню (Положительное, обязательное поле)

Response: -

$ curl 'http://localhost:8080/api/review/51' -i -X PUT \
    -H 'Content-Type: application/json;charset=UTF-8' \
    -d '{
  "isVote" : false
}'

-----------------------------

##### Обновить отзыв по идентификатору ресторана <br>
URL: /api/review/restaurant/id <br>
Роли: USER, ADMIN <br>
Метод: PUT <br>

Поле | Тип | Описание
------------ | ------------- | -------------
isVote | Boolean | Признак голосования (Обязательно поле)
------------ | ------------- | -------------
menuId | Long | Идентификатор меню (Положительное, обязательное поле)

Response: -

$ curl 'http://localhost:8080/api/review/restaurant/51' -i -X PUT \
    -H 'Content-Type: application/json;charset=UTF-8' \
    -d '{
  "isVote" : false
}'

-----------------------------

##### Удалить отзыв <br>
URL: /api/review/id <br>
Роли: USER, ADMIN <br>
Метод: DELETE <br>

Response: -

$ curl 'http://localhost:8080/api/review/50' -i -X DELETE \
    -H 'Content-Type: application/json;charset=UTF-8'
-----------------------------

## Пользователь
##### Получить список пользователей <br>
URL: /api/user <br>
Роли: USER, ADMIN <br>
Метод: GET <br>

Response: Массив объектов.

Поле | Тип | Описание
------------ | ------------- | -------------
id | Long | Идентификатор
------------ | ------------- | -------------
name | String | Имя пользователя 
------------ | ------------- | -------------
email | String | Почта
------------ | ------------- | -------------
roles | String | Список ролей
------------ | ------------- | -------------
enabled | Boolean | Признак активность(Вкл/Выкл)

$ curl 'http://localhost:8080/api/user/' -i -X GET

-----------------------------

##### Получить пользователя по идентификатору <br>
URL: /api/user/id <br>
Роли: USER, ADMIN <br>
Метод: GET <br>

Response:

Поле | Тип | Описание
------------ | ------------- | -------------
id | Long | Идентификатор
------------ | ------------- | -------------
name | String | Имя пользователя 
------------ | ------------- | -------------
email | String | Почта
------------ | ------------- | -------------
roles | String | Список ролей
------------ | ------------- | -------------
enabled | Boolean | Признак активность(Вкл/Выкл)

$ curl 'http://localhost:8080/api/user/50' -i -X GET

-----------------------------

##### Получить список пользователей с информацией по меню за период.<br>
Если период не передан, используется текущая дата. <br>
URL: /api/user/menu <br>
Роли: USER, ADMIN <br>
Метод: GET <br>

Поле | Тип | Описание
------------ | ------------- | -------------
startDate | LocalDate | Дата начала
------------ | ------------- | -------------
endDate | LocalDate | Дата окончания

Response:

Поле | Тип | Описание
------------ | ------------- | -------------
id | Long | Идентификатор пользователя
------------ | ------------- | -------------
menu | String | Наименование меню
------------ | ------------- | -------------
date | LocalDate | Дата голосования
------------ | ------------- | -------------
restaurant | String | Наименование ресторана
------------ | ------------- | -------------
isVote | Boolean | Признак голосования

$ curl 'http://localhost:8080/api/user/menu?startDate=2020-04-04&endDate=2020-04-04' -i -X GET

-----------------------------

##### Зарегистрировать пользователя. <br>
URL: /api/user/register  <br>
Роли: USER, ADMIN <br>
Метод: POST <br>

Поле | Тип | Описание
------------ | ------------- | -------------
id | Long | Идентификатор
------------ | ------------- | -------------
name | String | Имя пользователя (Обязательное, не пустое)
------------ | ------------- | -------------
enabled | Boolean | Признак активности(Вкл/Выкл) (Обязательное)
------------ | ------------- | -------------
email | String | Почта (Обязательное)
------------ | ------------- | -------------
roles | List(Role) | Список ролей (Обязательное)
------------ | ------------- | -------------
password | String | Пароль (Обязательное, не пустое)
 
Response:
 
Поле | Тип | Описание
------------ | ------------- | -------------
id | Long | Идентификатор
------------ | ------------- | -------------
name | String | Имя пользователя 
------------ | ------------- | -------------
enabled | Boolean | Признак активности(Вкл/Выкл)
------------ | ------------- | -------------
email | String | Почта (Обязательное)
------------ | ------------- | -------------
roles | List(Role) | Список ролей 

$ curl 'http://localhost:8080/api/user/register' -i -X POST \
    -H 'Content-Type: application/json;charset=UTF-8' \
    -d '{
  "name" : "Надежда",
  "enabled" : true,
  "email" : "test@test.ru",
  "roles" : [ "ROLE_USER" ],
  "password" : "test123"
}'

-----------------------------

##### Обновить пользователя. <br>
URL: /api/user/id  <br>
Роли: USER, ADMIN <br>
Метод: PUT <br>

Поле | Тип | Описание
------------ | ------------- | -------------
id | Long | Идентификатор
------------ | ------------- | -------------
name | String | Имя пользователя 
------------ | ------------- | -------------
enabled | Boolean | Признак активности(Вкл/Выкл) (Обязательное)
------------ | ------------- | -------------
email | String | Почта 
------------ | ------------- | -------------
roles | List(Role) | Список ролей (Обязательное)
------------ | ------------- | -------------
password | String | Пароль
 
Response: -

$ curl 'http://localhost:8080/api/user/register' -i -X PUT \
    -H 'Content-Type: application/json;charset=UTF-8' \
    -d '{
  "name" : "Надежда",
  "enabled" : true,
  "email" : "test@test.ru",
  "roles" : [ "ROLE_USER" ],
  "password" : "test123"
}'

-----------------------------

##### Удалить пользователя. <br>
URL: /api/user/id  <br>
Роли: USER, ADMIN <br>
Метод: DELETE <br>
 
Response: -

$ curl 'http://localhost:8080/api/user/50' -i -X DELETE \
    -H 'Content-Type: application/json;charset=UTF-8'

-----------------------------